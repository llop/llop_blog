<pre><span class="comment">/** @mainpage Practica de PRO2: Red ferroviaria
 *  Se construye un programa modular que simula el funcionamiento de una red ferroviaria.
 */
/** @file main.cpp
 *  @brief Programa principal para la practica de PRO2: 'Red ferroviaria'.
 */</span><span class="pre">
#include "Red.hpp"
#include "Cjt_Trenes.hpp"
#include "Cjt_Cocheras.hpp"
#include "utils.PRO2"
</span><span class="comment">
/** @brief Programa principal para la practica de PRO2: 'Red ferroviaria'. */</span><span class="type">
int</span><span class="keyword"> main</span><span class="operator">() {</span><span class="comment">

  // Leer cuantas cocheras
</span><span class="type">  int</span> M<span class="operator"> =</span> readint<span class="operator">();</span><span class="comment">
  // Inicializar la red, las cocheras y los trenes
</span>  Red red<span class="operator">;</span>

  red<span class="operator">.</span>leer_red<span class="operator">();</span>
  Cjt_Cocheras cocheras<span class="operator">(</span>M<span class="operator">);</span>
  cocheras<span class="operator">.</span>leer_cocheras<span class="operator">();</span>

  Cjt_Trenes trenes<span class="operator">;</span>
  trenes<span class="operator">.</span>leer_trenes<span class="operator">();</span><span class="comment">
  // Procesar las opciones
</span><span class="type">  int</span> opcion<span class="operator"> =</span> readint<span class="operator">();</span><span class="flow">

  while</span><span class="operator"> (</span>opcion<span class="operator"> != -</span><span class="int">6</span><span class="operator">) {</span><span class="flow">
    if</span><span class="operator"> (</span>opcion<span class="operator"> == -</span><span class="int">1</span><span class="operator">)</span> cocheras<span class="operator">.</span>almacenamiento_nocturno<span class="operator">(</span>red<span class="operator">,</span> trenes<span class="operator">);</span><span class="flow">

    else if</span><span class="operator"> (</span>opcion<span class="operator"> == -</span><span class="int">2</span><span class="operator">)</span> cocheras<span class="operator">.</span>formacion_matinal<span class="operator">(</span>trenes<span class="operator">);</span><span class="flow">

    else if</span><span class="operator"> (</span>opcion<span class="operator"> == -</span><span class="int">3</span><span class="operator">)</span> trenes<span class="operator">.</span>leer_tren<span class="operator">();</span><span class="flow">
    else if</span><span class="operator"> (</span>opcion<span class="operator"> == -</span><span class="int">4</span><span class="operator">)</span> cocheras<span class="operator">.</span>leer_cocheras<span class="operator">();</span><span class="flow">

    else if</span><span class="operator"> (</span>opcion<span class="operator"> == -</span><span class="int">5</span><span class="operator">)</span> cocheras<span class="operator">.</span>escribir_cocheras<span class="operator">();</span>
    opcion<span class="operator"> =</span> readint<span class="operator">();
  }</span><span class="flow">

  return</span><span class="int"> 0</span><span class="operator">;
}</span>
</pre>